{% extends "mc-base.html" %}
{% block main %}
<div class="flex justify-between">
    <div class="pb-5 text-xl text-[#FFFDC9]">Cryptocurrency prices by Market Cap</div>
    <input placeholder=" Search" class="bg-blue-100 bg-opacity-20 rounded-lg p-1 mb-5">
</div>
<!-- Asset Entries Table -->
<div class="rounded-2xl shadow-md overflow-x-auto border border-[#6F7CF1]/40 text-[#FFFDC9] font-light">
    <div class="table w-full">
        <div class="table-header-group bg-[#17014F] text-xl">
            <div class="table-row">
                <!-- TODO: Fix symbol icon positioning -->
                <div class="table-cell p-2">#</div>
                <div class="table-cell p-2">Coin</div>
                <div class="table-cell p-2">Price</div>
                <!-- <div class="table-cell p-2">1h</div> -->
                <div class="table-cell p-2">24h</div>
                <!-- <div class="table-cell p-2">7d</div> -->
                <div class="table-cell p-2">24h Volume</div>
                <div class="table-cell p-2">Marketcap</div>
            </div>
        </div>
        <div class="table-row-group bg-[#230679]/30 text-lg">
            {% for token in token_list%}
            <div class="table-row hover:bg-[#17014F]/60 tracking-wider">
                <div class="table-cell p-2">{{ token.rank }}</div>
                <div class="table-cell p-2">{{ token.name }}</div>
                <div class="table-cell p-2">{{ token.price }}</div>
                <!-- <div class="table-cell p-2">{{ token.one_hour_performance }}</div> -->
                <!-- Negative performance -->
                {% if token.one_day_performance < 0 %}
                    <div class="table-cell p-2 text-red-500">
                        {{ token.one_day_performance|floatformat:"2g" }}%
                    </div>
                <!-- Positive performance -->
                {% elif token.one_day_performance >= 0 %}
                    <div class="table-cell p-2 text-lime-400">
                        +{{ token.one_day_performance|floatformat:"2g" }}%
                    </div>
                {% endif %}
                <!-- <div class="table-cell p-2">{{ token.seven_day_performance }}</div> -->
                <div class="table-cell p-2">${{ token.one_day_volume }}</div>
                <div class="table-cell p-2">${{ token.marketcap }}</div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<div id="page-nav" class="text-gray-400 pt-6">
    <ol class="flex flex-row justify-center gap-1">
        <li class="hover:text-white border hover:border-white border-[#6F7CF1]/40 rounded p-1">
            <button>«</button>
        </li>
        <!-- JS programmatically adds the pages here-->
        <li class="hover:text-white border hover:border-white border-[#6F7CF1]/40 rounded p-1">
            <button>»</button>
        </li>
    </ol>
</div>
<script>
    // Grab parent div where the pages will be inserted into
    let pageNav = document.querySelector('#page-nav > ol');
    let firstItem = pageNav.firstChild;
    let numOfPages = 5;
    let pages = [];

    // Add pages (and number accordingly) to pages array
    for (let pageNum = 1; pageNum <= numOfPages; pageNum++) {
        let pageItem = document.createElement("li");
        pageItem.innerHTML = `<button>${pageNum}</button>`
        pages.push(pageItem);
    }
    // Place pages into list element
    pages.forEach(page => {
        page.classList.add("hover:text-white", "border", "hover:border-white", "border-[#6F7CF1]/40", "rounded", "p-1");
        pageNav.insertBefore(page, pageNav.lastElementChild);
    });
</script>
{% endblock main %}

